/* Base Container */
.contagem-container {
    background-color: #fff;
    padding: 25px;
    border-radius: 15px;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
    width: 100%;
    max-width: 1200px;
    margin: 20px auto;
    display: flex;
    flex-direction: column;
    min-height: calc(100vh - 40px);
}

/* Header */
.contagem-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 2px solid #8B0000;
    padding-bottom: 15px;
    margin-bottom: 30px;
}
.contagem-header h1 { font-size: 2rem; color: #343a40; margin: 0; }
.contagem-header span { font-size: 1.1rem; color: #6c757d; font-weight: 500; }

/* Grid de Turmas */
.turmas-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
    gap: 20px;
    flex-grow: 1;
    margin-bottom: 30px;
}

/* Botões de Turma */
.turma-button {
    background: linear-gradient(145deg, #3a3a3a, #2f2f2f);
    color: white;
    border: none;
    border-radius: 10px;
    padding: 18px;
    font-size: 1rem;
    font-weight: 600;
    height: 110px;
    cursor: pointer;
    transition: all 0.25s ease;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: 8px;
    line-height: 1.2;
    text-align: center;
    box-shadow: 5px 5px 10px #bebebe, -5px -5px 10px #ffffff;
}
.turma-button:hover { transform: translateY(-4px); }
.turma-button:active { transform: translateY(-1px); box-shadow: 2px 2px 5px #bebebe, -2px -2px 5px #ffffff; }

.turma-button.contado {
    background: linear-gradient(145deg, #a12020, #801010); /* Vermelho escuro quando contado */
}
.turma-button-nome { font-size: 1.1em; }
.turma-button-qtd { font-size: 1.8em; font-weight: bold; }

/* Cartão Total */
.total-card {
    background-color: #f0f0f0;
    color: #28a745;
    border-radius: 10px;
    padding: 18px;
    height: 110px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    box-shadow: inset 5px 5px 10px #bebebe, inset -5px -5px 10px #ffffff;
}
.total-label { font-size: 1.1rem; font-weight: 600; color: #343a40; }
.total-value { font-size: 2.5rem; font-weight: bold; }

/* Footer */
.contagem-footer { margin-top: auto; padding-top: 20px; text-align: center; }
.action-button.back-button { /* ... (estilo existente) ... */ }

/* --- Estilos do Modal (SweetAlert2) --- */
.swal2-popup { border-radius: 15px !important; }
.swal2-title { font-size: 1.8rem !important; color: #343a40 !important; }
.swal-contagem-container { text-align: center; padding: 10px 0; }
.swal-qtd-control { display: flex; justify-content: center; align-items: center; gap: 20px; margin-bottom: 30px; }
.swal-qtd-button {
    width: 45px; height: 45px; font-size: 1.8rem; border-radius: 50%;
    border: none; background-color: #8B0000; color: white;
    cursor: pointer; font-weight: bold; transition: background-color 0.2s ease;
}
.swal-qtd-button:hover { background-color: #a82a2a; }
.swal-qtd-input {
    width: 100px; text-align: center; font-size: 3rem; font-weight: bold;
    border: none; background: transparent; color: #343a40;
}
.swal-qtd-input:focus { outline: none; }
.swal-qtd-input::-webkit-outer-spin-button, .swal-qtd-input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
.swal-qtd-input[type=number] { -moz-appearance: textfield; }

.swal-restricoes-container { max-height: 250px; overflow-y: auto; text-align: left; padding: 15px; background-color: #f8f9fa; border-radius: 8px; }
.swal-restricoes-title {
    font-size: 1.1rem; color: #343a40; margin: -15px -15px 15px -15px; padding: 10px 15px;
    text-align: center; font-weight: 600; background-color: #e9ecef; border-bottom: 1px solid #dee2e6;
}
.swal-no-restricoes { color: #6c757d; font-style: italic; text-align: center; padding: 20px 0; }

.swal-aluno-item {
    display: flex; align-items: center; padding: 10px; border-radius: 8px;
    background-color: #fff; border: 1px solid #e9ecef; margin-bottom: 10px;
    cursor: pointer; transition: all 0.2s ease;
}
.swal-aluno-item:has(input:checked) { background-color: #e6f3e9; border-color: #28a745; }
.swal-aluno-avatar { width: 40px; height: 40px; border-radius: 50%; object-fit: cover; margin-right: 12px; }
.swal-aluno-info { flex-grow: 1; }
.swal-aluno-nome { font-weight: 600; color: #343a40; font-size: 0.95rem; }
.swal-aluno-necessidade { font-size: 0.8rem; color: #6c757d; }
.swal-aluno-checkbox { display: none; }

.swal-aluno-item::after { /* Checkbox customizado */
    content: ''; width: 20px; height: 20px; border: 2px solid #ced4da;
    border-radius: 4px; margin-left: 15px; transition: all 0.2s ease; flex-shrink: 0;
}
.swal-aluno-item:has(input:checked)::after {
    background-color: #28a745; border-color: #28a745; content: '✓';
    color: white; text-align: center; font-weight: bold; font-size: 1rem;
    line-height: 1; display: flex; justify-content: center; align-items: center;
}

/* --- Responsividade --- */
@media (max-width: 768px) {
    .contagem-container { padding: 15px; margin: 15px; min-height: calc(100vh - 30px); }
    .contagem-header { flex-direction: column; align-items: flex-start; gap: 5px; }
    .contagem-header h1 { font-size: 1.6rem; }
    .contagem-header span { font-size: 1rem; }
    .turmas-grid { grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 15px; }
    .turma-button, .total-card { height: 100px; }
    .swal2-popup { width: 95% !important; }
}
@media (max-width: 480px) {
    .turmas-grid { grid-template-columns: 1fr 1fr; }
}